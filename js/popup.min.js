var contactsLink=document.querySelector(".contacts__link"),writeUs=document.querySelector(".write-us"),userName=writeUs.querySelector(".write-us__name"),userEmail=writeUs.querySelector(".write-us__email"),userText=writeUs.querySelector(".write-us__textarea"),writeUsClose=writeUs.querySelector(".write-us__close"),writeUsForm=writeUs.querySelector(".write-us__form"),isStorageSupport=!0,storageName="",storageEmail="";try{storageName=localStorage.getItem("userName"),storageEmail=localStorage.getItem("userEmail")}catch(e){isStorageSupport=!1}contactsLink.addEventListener("click",function(e){e.preventDefault(),writeUs.classList.add("write-us--show"),storageName&&storageEmail?(userName.value=storageName,userEmail.value=storageEmail,userText.focus()):storageName?(userName.value=storageName,userEmail.focus()):userName.focus()}),writeUsClose.addEventListener("click",function(e){e.preventDefault(),writeUs.classList.remove("write-us--show"),writeUs.classList.remove("write-us--error")}),writeUsForm.addEventListener("submit",function(e){userName.value&&userEmail.value&&userText.value?isStorageSupport&&(localStorage.setItem("userName",userName.value),localStorage.setItem("userEmail",userEmail.value)):(e.preventDefault(),writeUs.classList.remove("write-us--error"),writeUs.offsetWidth=writeUs.offsetWidth,writeUs.classList.add("write-us--error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),writeUs.classList.contains("write-us--show")&&(writeUs.classList.remove("write-us--show"),writeUs.classList.remove("write-us--error")))});var contactsMap=document.querySelector(".contacts__map"),map=document.querySelector(".map-popup"),mapClose=map.querySelector(".map-popup__close");contactsMap.addEventListener("click",function(e){map.classList.add("map-popup--show")}),mapClose.addEventListener("click",function(e){map.classList.remove("map-popup--show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),map.classList.contains("map-popup--show")&&map.classList.remove("map-popup--show"))});
